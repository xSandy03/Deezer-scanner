<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Emoji Detection Music Player - Detect emojis from cubes and play music">
    <title>Emoji Music Player</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Tap to Start Overlay -->
    <div id="startOverlay" class="overlay">
        <div class="overlay-content">
            <h1>Emoji Music Player</h1>
            <p>Tap to start camera and unlock audio</p>
            <button id="startButton" class="start-button">Tap to Start</button>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app-container hidden">
        <!-- Status Bar -->
        <div id="statusBar" class="status-bar">
            <span id="statusText">Ready</span>
            <label class="toggle-label">
                <input type="checkbox" id="lowPowerToggle">
                <span>Low Power</span>
            </label>
        </div>

        <!-- Camera Preview -->
        <div class="camera-container">
            <video id="videoElement" autoplay playsinline muted></video>
            <canvas id="canvasElement" class="hidden"></canvas>
        </div>

        <!-- Emoji Detection Results -->
        <div class="emoji-results">
            <div class="emoji-item">
                <span class="emoji-label">Cube 1:</span>
                <span id="emojiA" class="emoji-display">â€”</span>
                <span id="emojiALabel" class="emoji-text-label"></span>
            </div>
            <div class="emoji-item">
                <span class="emoji-label">Cube 2:</span>
                <span id="emojiB" class="emoji-display">â€”</span>
                <span id="emojiBLabel" class="emoji-text-label"></span>
            </div>
        </div>

        <!-- Mock Mode Controls (for testing without camera) -->
        <div id="mockControls" class="mock-controls hidden">
            <h3>Mock Detection Mode</h3>
            <div class="mock-inputs">
                <label>
                    Emoji A:
                    <select id="mockEmojiA">
                        <option value="">â€”</option>
                        <option value="ğŸ˜„">ğŸ˜„ Happy</option>
                        <option value="ğŸ˜ˆ">ğŸ˜ˆ Devil</option>
                        <option value="ğŸµ">ğŸµ Music</option>
                        <option value="ğŸ”¥">ğŸ”¥ Fire</option>
                        <option value="â¤ï¸">â¤ï¸ Heart</option>
                        <option value="â­">â­ Star</option>
                    </select>
                </label>
                <label>
                    Emoji B:
                    <select id="mockEmojiB">
                        <option value="">â€”</option>
                        <option value="ğŸ˜„">ğŸ˜„ Happy</option>
                        <option value="ğŸ˜ˆ">ğŸ˜ˆ Devil</option>
                        <option value="ğŸµ">ğŸµ Music</option>
                        <option value="ğŸ”¥">ğŸ”¥ Fire</option>
                        <option value="â¤ï¸">â¤ï¸ Heart</option>
                        <option value="â­">â­ Star</option>
                    </select>
                </label>
            </div>
        </div>

        <!-- Music Player Bar -->
        <div id="playerBar" class="player-bar">
            <div class="player-info">
                <div class="track-info">
                    <div id="trackTitle" class="track-title">No track selected</div>
                    <div id="trackArtist" class="track-artist">â€”</div>
                </div>
            </div>
            
            <div class="player-controls">
                <div class="progress-container">
                    <span id="currentTime" class="time-display">0:00</span>
                    <input type="range" id="progressBar" class="progress-bar" min="0" max="100" value="0">
                    <span id="duration" class="time-display">0:00</span>
                </div>
                
                <div class="control-buttons">
                    <button id="prevButton" class="control-btn" aria-label="Previous">â®</button>
                    <button id="playPauseButton" class="control-btn play-pause" aria-label="Play/Pause">â–¶</button>
                    <button id="nextButton" class="control-btn" aria-label="Next">â­</button>
                    <div class="volume-control">
                        <span>ğŸ”Š</span>
                        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="100">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.15.0/dist/tf.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
